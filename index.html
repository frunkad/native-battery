<!DOCTYPE html>
  <html>
    <head>
      <meta charset="UTF-8">
      <title>Hello World!</title>
      <link rel="stylesheet" href="main.css">
    </head>
    <body>
      <!-- The .bar-container have a hardcoded height or has enough content to make it tall enough so the other parts of the bar can grow -->
<div class="bar-container" style="height: 500px;">
    <div class="goal-bar">
      <div class="bar-wrap">
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
        <hr class="bar-line" />
  
        <div class="bar" id="mbar" style="transform: translatY(90%);">
          <div class="bar-info">
            <div class="bar-info-inner" id="mbar-info-inner">
              225 / 500
            </div>
          </div>
        </div>
        <span class="bar-label"></span>
      </div>
  
      <div class="bar-labels">
        <span class="bar-label">100</span>
        <span class="bar-label">90</span>
        <span class="bar-label">80</span>
        <span class="bar-label">70</span>
        <span class="bar-label">60</span>
        <span class="bar-label">50</span>
        <span class="bar-label">40</span>
        <span class="bar-label">30</span>
        <span class="bar-label">20</span>
        <span class="bar-label">10</span>
        <span class="bar-label">0</span>
      </div>
    </div> <!-- /.goal-bar -->
  </div>
  <script>
      navigator.getBattery().then(function(battery) {
          function updateBatteryInfo() {
              console.log(battery.level);
              document.getElementById("mbar").style.transform = `translateY(${(1-battery.level)*100})`;
              document.getElementById("mbar-info-inner").innerText = `${battery.level*100} %`;
          }
          battery.addEventListener('levelchange',() => updateBatteryInfo());
          updateBatteryInfo();

      })
  </script>
    </body>
  </html>